{"version":3,"file":"static/webpack/static/development/pages/index.js.45e2de6f95d16d7b7262.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Head from '../components/Head';\nimport axios from 'axios';\nimport config from '../config';\nclass Index extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            arrDares: [],\n            currentDare: '',\n            loading: false,\n            startTime: 0,\n            currentTime: 0\n        };\n    }\n    componentDidMount() {\n        this.setState({ loading: true })\n        const access_token = config.access_token || config.access_token2\n        const query = `https://graph.facebook.com/${config.post_id}/comments?fields=message,from&access_token=${config.access_token}`\n        this.getAllComments(query)\n    }\n    getAllComments = (query) => {\n        axios.get(query)\n            .then(res => {\n                const resData = res.data\n                const { data, paging } = resData\n                const dataFiltter = data.filter(item => (!item.message.includes('Gọi điện')))\n                this.setState({ arrDares: this.state.arrDares.concat(dataFiltter) })\n                if (paging && paging.next) {\n                    this.getAllComments(paging.next)\n                } else {\n                    this.setState({ loading: false })\n                }\n            })\n\n    }\n    sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\n\n\n    generateDare = async () => {\n        if (this.state.loading) return\n        this.setState({ loading: true })\n        await this.sleep(3000)\n        const random = Math.floor(Math.random() * this.state.arrDares.length)\n        this.setState({ currentDare: this.state.arrDares[random], loading: false })\n    }\n    render() {\n        const { currentDare, loading, startTime, currentTime } = this.state\n        const fromName = currentDare.from ? currentDare.from.name : ''\n        const style = {\n            container: {\n                height: '100vh',\n            },\n            tren: {\n                width: '100%',\n                height: '70%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                backgroundColor: 'blue'\n            },\n            duoi: {\n                width: '100%',\n                height: '30%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                backgroundColor: 'green',\n            }\n        }\n        return (\n            <div className=\"\">\n                <Head></Head>\n                <div style={style.container} >\n                    <h6 className=\"center-align\">Develope by @xuanhuyjs</h6>\n                    <div style={style.tren}>\n                        {!loading ? (<div>\n                            <div className=\"card blue-grey darken-1\">\n                                <div className=\"card-content white-text\">\n                                    <p>{currentDare.message || 'Welcome to #DAREHUB'}</p>\n                                </div>\n                                <div className=\"card-action right-align\">\n                                    <span>{fromName}</span>\n                                </div>\n                            </div>\n                        </div>) : null}\n\n                    </div>\n                    {loading ? (<div className=\"progress\" >\n                        <div className=\"indeterminate\"></div>\n                    </div>) : null}\n                    <div style={style.duoi} className=\"center-align\" onClick={this.generateDare} >\n                        <a className=\"waves-effect waves-light btn-large\">generate dare</a>\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAiBA;AAEA;AADA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AA/BA;AA+BA;AAAA;AAAA;AAAA;AACA;AAhCA;AAAA;AAAA;AAAA;AAAA;AAkCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAEA;AAAA;AAAA;AACA;AAHA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAjCA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AASA;AACA;;;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;AA0BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAZA;AAqBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AA9FA;AACA;AAgGA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}